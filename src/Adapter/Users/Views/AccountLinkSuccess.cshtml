@using System

@using Brighid.Discord.Adapter
@using Brighid.Discord.Adapter.Users

@using Microsoft.Extensions.Options

@model AccountLinkSuccessViewModel

@inject IOptions<IdentityOptions> identityOptions;

@{
    Layout = "_Layout";
    var avatarImageUri = $"https://cdn.discordapp.com/avatars/{Model.DiscordUserId}/{Model.DiscordAvatarHash}.png";
    var identityServerUri = new UriBuilder(identityOptions.Value.IdentityServerUri)
    {
        Scheme = Uri.UriSchemeHttps,
        Port = -1,
    };
}

<div class="container">
    <h1>Account Linked</h1>
    <div class="container">
        <img class="discord-logo" src="https://discord.com/assets/9f6f9cd156ce35e2d94c0e62e3eff462.png" />
        <i class="fa fa-link discord-link"></i>
        <img class="discord-user-avatar" src="@avatarImageUri" />
    </div>
    <div class="container">
        <a href="@identityServerUri">Return to Brighid Identity <i class="fa fa-chevron-right"></i></a>
    </div>
</div>